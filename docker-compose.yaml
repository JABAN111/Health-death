services:
  gateway:
    build:
      dockerfile: Dockerfile.gateway
    ports:
      - "23200:8080"
    environment:
      API_ADDRESS: "0.0.0.0:8080"
      HTTP_SERVER_TIMEOUT: "20000"
      DIARY_ADDRESS: "diary:8080"
      AUTHORIZATION_ADDRESS: "authorization:8080"
      LOG_ADDRESS: "log:8080"
      SCHEDULE_ADDRESS: "schedule:8080"
      TRAIN_ADDRESS: "train:8080"
      USER_ADDRESS: "user:8080"


  authorization:
    build:
      dockerfile: Dockerfile.authorization
    ports:
      - "23210:8080"
    networks:
      - app-network

  diary:
    build:
      dockerfile: Dockerfile.diary
    ports:
      - "23214:8080"
    networks:
      - app-network

  log:
    build:
      dockerfile: Dockerfile.log
    ports:
      - "23211:8080"
    networks:
      - app-network

  schedule:
    build:
      dockerfile: Dockerfile.schedule
    ports:
      - "23220:8080"
    networks:
      - app-network

  train:
    build:
      dockerfile: Dockerfile.train
    ports:
      - "23212:8080"
    networks:
      - app-network

  user:
    build:
      dockerfile: Dockerfile.user
    ports:
      - "23213:8080"
    networks:
      - app-network

networks:
  app-network:
    driver: bridge