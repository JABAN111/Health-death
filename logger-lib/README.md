# Logger-lib
## Мотивация
Необходимо использовать в каждом из микросервисов логирование, которое отправляло бы данные на kdb. 
Хочется видеть на каждом из микросервисов единую логику логирования/отправки сообщений.

## Как использовать?
[Примеры использования можно найти в тестах](https://github.com/JABAN111/Health-death/tree/log-service/logger-lib/src/test/kotlin)\
У Logger есть единственный доступный метод(конструкторы запривачены), который принимает в себя host и port для подключения к keydb(подключение идет через redis библиотеку, т.к. keydb полностью совместим с redis)

Дефолтно Logger(если не указаны значения хоста и порт), что host=localhost, а port=6379. 
> **_NOTE:_**  Данная конфигурация подойдет для локальной развертки 
> для развертки в докере необходимо указать host=keydb, port=6379. Имя хоста = имя контейнера


## Существует три вида логирования:
* info - информационная информация по типу "пользователь создан"
* warn - предупреждающая информация по типу "пользователь ввел невалидное имя"
* error - информация об ошибке, сообщающая о критичных ошибках(ошибка записи в бд)

### Пример info 
```kotlin
val log = Logger.getLogger(host="localhost", port = 6379)
log.info("service started")
```

### Пример warn
```kotlin
val log = Logger.getLogger()
log.warn("user input was invalid")
```

### Пример error
```kotlin
val log = Logger.getLogger()
log.error("fatal error, we will cry...")
```